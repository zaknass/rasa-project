version: "3.1"

rules:

# ๐น ุชุดุบูู ุงููููุฐุฌ ุนูุฏ ููุฉ ุงูุจุญุซ
- rule: ุชุดุบูู ูููุฐุฌ ุญุฌุฒ ุงูุทูุฑุงู
  steps:
    - intent: search_flight
    - action: flight_search_form
    - active_loop: flight_search_form

# ๐น ุชุดุบูู ุงูุฃูุดู ุจุนุฏ ุฅููุงู ุงููููุฐุฌ
- rule: ุฅููุงู ุงููููุฐุฌ ูุชุดุบูู ุงูุฃูุดู
  condition:
    - active_loop: flight_search_form
  steps:
    - action: flight_search_form
    - active_loop: null
    - action: action_submit_flight_search

# ๐น fallback ุฅุฐุง ูุชุจ ุงููุณุชุฎุฏู ุดูุก ุบูุฑ ููููู
- rule: ุงูุชุนุงูู ูุน ุฑุณุงุฆู ุบูุฑ ูููููุฉ
  steps:
    - intent: nlu_fallback
    - action: utter_ask_rephrase

# ๐น ุฅูุบุงุก ุงููููุฐุฌ ุนูุฏ ููุฉ "cancel"
- rule: ุฅูุบุงุก ุงููููุฐุฌ ุนูุฏ ุงูุทูุจ
  steps:
    - intent: cancel
    - action: utter_cancel
    - action: action_deactivate_loop
    - active_loop: null

# ๐น ุฅุนุงุฏุฉ ุณุคุงู slot ูุนูู ุฅุฐุง ูุงู ุงูุฅุฏุฎุงู ุบูุฑ ุตุงูุญ
- rule: ุฅุนุงุฏุฉ ุทูุจ ุชุงุฑูุฎ ุงูุนูุฏุฉ ุฅุฐุง ุงููููุฉ ุบูุฑ ุตุงูุญุฉ
  condition:
    - active_loop: flight_search_form
  steps:
    - slot_was_set:
        - return_date: null
    - action: utter_ask_return_date
